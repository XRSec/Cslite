<div class="card">
    <div class="card-header">设备详情</div>
    <div id="device-detail" class="loading">
        <div class="spinner"></div>
    </div>
</div>

<script>
async function initDeviceDetailPage(params) {
    const deviceId = params.id;
    const detailEl = document.getElementById('device-detail');
    
    try {
        const res = await window.api.getDevice(deviceId);
        const device = res && res.data ? res.data : null;
        
        if (!device) throw new Error('not found');
        
        detailEl.innerHTML = `
            <div style="display: grid; gap: 1rem;">
                <div class="form-group">
                    <label class="form-label">设备ID</label>
                    <div>${device.id}</div>
                </div>
                <div class="form-group">
                    <label class="form-label">设备名称</label>
                    <div>${device.name || '-'}</div>
                </div>
                <div class="form-group">
                    <label class="form-label">平台</label>
                    <div>${device.platform || '-'}</div>
                </div>
                <div class="form-group">
                    <label class="form-label">IP地址</label>
                    <div>${device.ip_address || '-'}</div>
                </div>
                <div class="form-group">
                    <label class="form-label">状态</label>
                    <div>${device.status || 'offline'}</div>
                </div>
                <div class="form-group">
                    <label class="form-label">最后活跃时间</label>
                    <div>${device.last_seen ? window.formatDate(device.last_seen) : '-'}</div>
                </div>
                <div class="form-group">
                    <label class="form-label">创建时间</label>
                    <div>${window.formatDate(device.created_at)}</div>
                </div>
            </div>
            <div style="margin-top: 2rem;">
                <a href="#/devices" class="btn btn-secondary">返回列表</a>
            </div>
        `;
    } catch (error) {
        detailEl.innerHTML = '<div class="empty-state">加载设备详情失败</div>';
    }
}
</script>